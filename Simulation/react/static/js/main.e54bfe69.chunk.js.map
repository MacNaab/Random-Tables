{"version":3,"sources":["sim/form/prétiré.js","module/combatant.js","module/party.js","module/combat.js","module/attack.js","module/capacité.js","module/buff.js","module/malus.js","sim/form/formalert.js","sim/form.js","sim/form/formcheck.js","sim/log.js","sim/participant/edition/partipopedit.js","sim/participant/edition/form.js","sim/participant/partipop.js","sim/participant/sim.js","sim/participant/modal.js","sim/participant.js","sim/participant/urlexpt.js","sim/render.js","App.js","reportWebVitals.js","index.js","module/dice_roller.js"],"names":["module","exports","found","sortie","REF","DEX","ESQ","ATH","MEL","BAG","Caract","RÉF","Compt","Athlétisme","Mêlée","Bagarre","valeur","push","Number","Math","max","Arme","forEach","e","atq","effect","poison","poisonID","feu","feuID","sang","sangID","pré","préID","argent","argentID","eff","searching","Effet","find","f","Nom","error","Base","DMG","regen","fureur","embush","regenID","Régénération","Capacités","dice","require","sumBuffs","self","stat","total","buffs","buff","bonus","data","this","id","hp","ps","max_hp","ac","pa","max_ac","initiative","atk","def","rof","capacité","monstre","strat","position","reacted","reactions","stun","etou","etat","mod","malus","addBuff","addReaction","reaction","checkBuffs","filter","time","tickBuffs","stats","parent","index","sum","SumAtk","rollInitiative","expl","attackChoice","posibilité","length","roll","floor","random","attackRoll","viser","FP","effet","isNaN","dé","defRoll","isHit","nextReaction","trigger","takeDamage","damageRoll","isDead","isStun","ETOU","resetMalus","reset","init","members","combatStrategies","lowest_hp","combatantA","combatantB","highest_hp","lowest_pa","lowest_position","highest_position","highest_dmg","dmgA","attacks","element","dmg","dice_type","dice_number","dmg_bonus","dmgB","addMember","combatant","selectTarget","opponents","sort","Attack","Capacité","Malus","parties","addParty","party","turnList","initiateCombat","logger","string","party_id","a","b","n","member","runRound","current_combatant","opponentParties","p_id","atkch","i","target","atkRoll","damage","loc","nom","JSON","stringify","brut","desc","armor","crit","runFight","anticrash","isFightOnGoing","survivorsStats","survivors","alive","c","Object","keys","dead","cible","jet","jet2","err","console","log","loca","cc","diff","el","Buff","Regen","name","useStyles","makeStyles","theme","root","width","marginTop","spacing","SimpleAlerts","props","classes","className","Alert","severity","Prétired","TryCheck","state","base","Fab","color","aria-label","title","onClick","groupe","CheckMb","prétiré","anchorEl","anchorEl2","anchorEl3","style","display","margin","Example","handleClick","event","setState","currentTarget","handleClose","handleInputChange","value","list","includes","checked","handleChange","handleAsynChange","values","handleAsynChange2","handleRemoveClick","splice","handleAddClick","FR","checkPrétiré","Bestiaire","child","monster","Monstre","PS","Armure","ÉTOU","checkCheck","input","checkChecked","child_atk","handleErr","bind","noValidate","autoComplete","grid","Grid","container","item","xs","Autocomplete","options","group","freeSolo","onInputChange","renderInput","params","TextField","label","variant","type","onChange","mt","Button","aria-controls","aria-haspopup","Menu","keepMounted","open","Boolean","onClose","MenuItem","getOptionLabel","option","center","map","x","placeholder","FormControlLabel","control","Checkbox","FormControl","formControl","InputLabel","Select","labelId","fr","IconButton","min","Component","withStyles","textAlign","flexGrow","centerBlock","withTheme","Test","ee","dataSur","groupePJ","clé","ordre","detail","surv","dc","k","array1","indexA","findIndex","indexB","indexC","indexD","slice","TreeItem","nodeId","bouclier","test2","height","gridTemplateColumns","block","FileSystemNavigator","logs","TreeView","defaultCollapseIcon","defaultExpandIcon","survivor","List","component","ratio","ListItem","button","ListItemText","primary","typography","FormDialog","React","useState","setOpen","edit","del","handleInputChange2","handleInputChange3","listItems","v","listAtq","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogContentText","DialogActions","FormDialogModal","paper","border","padding","backgroundColor","palette","background","Atq","d","Capa","SimplePopper","setAnchorEl","undefined","Chip","aria-describedby","Popper","Paper","Typography","Combatant","Party","Combat","code","setCode","change","Publish","autoFocus","fullWidth","parse","PartiList","aff","iColor","columnCount","RecipeReviewCard","Card","CardHeader","CardContent","CardActions","disableSpacing","expt","navigator","clipboard","writeText","URLexportation","GetApp","sim","p","new_combatant","loggerdeloggi","loggeridex","logginette","winners","winner_party","winRatio","Sim","RotateLeft","UserForm","val","GroupList","addLog","editMb","delMb","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","Rand","reducer","accumulator","currentValue","expression","formule","split","Echec","critique","reduce"],"mappings":"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","file":"static/js/main.e54bfe69.chunk.js","sourcesContent":["module.exports = function(found){\r\n    let sortie = {};\r\n    sortie.def = function() {\r\n        // Esquive (REF) ||  Athlétisme (DEX)  ||  Mêlée (REF)   ||  Bagarre (REF)\r\n        let REF,DEX,ESQ,ATH,MEL,BAG;\r\n        found.Caract.RÉF ? REF = found.Caract.RÉF : REF = 0;\r\n        found.Caract.DEX ? DEX = found.Caract.DEX : DEX = 0;\r\n        found.Compt['Esquive/Évasion'] ? ESQ = found.Compt['Esquive/Évasion'] : ESQ = 0;\r\n        found.Compt.Athlétisme ? ATH = found.Compt.Athlétisme : ATH = 0;\r\n        found.Compt.Mêlée ? MEL = found.Compt.Mêlée : MEL = 0;\r\n        found.Compt.Bagarre ? BAG = found.Compt.Bagarre : BAG = 0;\r\n\r\n        let valeur = [];\r\n        valeur.push(Number(REF)+Number(ESQ));\r\n        valeur.push(Number(REF)+Number(MEL));\r\n        valeur.push(Number(REF)+Number(BAG));\r\n        valeur.push(Number(DEX)+Number(ATH));\r\n\r\n        return Math.max(...valeur);\r\n    }\r\n    sortie.atq = function() {\r\n        let valeur = [];\r\n        found.Arme.forEach(function(e){\r\n            let effect = {\r\n                poison: false,\r\n                poisonID: '',\r\n                feu: false,\r\n                feuID: '',\r\n                sang: false,\r\n                sangID: '',\r\n                pré: false,\r\n                préID: 0,\r\n                argent: false,\r\n                argentID: '',\r\n            }\r\n            let effectList = ['poison','feu','sang','pré'];\r\n            effectList.forEach(function(eff){\r\n                try {\r\n                    let searching = e.Effet.find(f => f.Nom === eff)\r\n                    if(searching){\r\n                        effect[eff] = true;\r\n                        effect[eff+'ID'] = searching.valeur;\r\n                    }\r\n                } catch (error) {}\r\n            });\r\n            let atq;\r\n            e.Base ? atq = e.Base : atq = 10;\r\n            valeur.push({\r\n                'nom': e.Nom,\r\n                'atk':  atq,\r\n                'dice': e.DMG,\r\n                'rof': e['Att/tour'],\r\n                'FR': false,\r\n                'FP': false,\r\n                'viser':'Aléatoire',\r\n                'effet': effect\r\n            });         \r\n        });\r\n        return valeur;\r\n    }\r\n    sortie.capa = function(){\r\n        let valeur = {regen: false, fureur: false, embush: false, regenID: ''};\r\n        if(found.Régénération){\r\n            valeur.regen = true;\r\n            valeur.regenID = found.Régénération;\r\n        }\r\n        let searching = found.Capacités.find(f => f === 'Fureur');\r\n        if(searching){valeur.fureur=true;}\r\n        return valeur;\r\n    }\r\n    return sortie;\r\n};","const dice = require('./dice_roller');\r\n//const Attack = require('./attack');\r\n\r\n/**\r\n * Constructs a combatant object.\r\n *\r\n * @constructor\r\n * \r\n * let data = {\r\n *  @param id:'Dwarf',\r\n *  // Unique\r\n *  @param ps:15,\r\n *  // PS: Points de Santé\r\n *  @param pa:15,\r\n *  // PA: Pouvoir d'Arrêt\r\n *  @param initiative:15,\r\n *  // Initiative\r\n *  @param def:15,\r\n *  // Base DEF\r\n *  @param capacité:[{name:'id',effet:'valeur'}],\r\n *  // Liste des capacité\r\n *  @param atk: []\r\n *  // Type ATQ\r\n *    @param atk:15,\r\n *    // Base ATQ\r\n *    @param dice:'3d6+1',\r\n *    // DMG\r\n *    @param rof:1,\r\n *    // Att par tour\r\n *    @param FR: false || true\r\n *    // Frappe Rapide\r\n *    @param FP: false || true\r\n *    // Frappe Puissante\r\n *    @param viser: Aléatoire\r\n *    // Localisation\r\n *  ]\r\n *    @param monstre: true || false \r\n *    @param strat: Aléatoire\r\n *    //  Stratégie de combat\r\n *    @param position:  1\r\n *    // Place sur le champs de bataille\r\n *    @param etou: 10\r\n *    // valeur étourdissement\r\n *    @param stun: {etou: data.etou, etat: false, mod: null}\r\n *    // etou = valeur  etat = true|fals  mod = valeur\r\n * };\r\n *\r\n */\r\nmodule.exports = function(data){\r\n  this.id = data.id;\r\n  this.hp = data.ps;\r\n  this.max_hp = data.ps;\r\n  this.ac = data.pa;\r\n  this.max_ac = data.pa;\r\n  this.initiative = data.initiative;\r\n  this.atk = data.atk; // [{atk:1,dice:'1d1',rof:1,FR:false,FP:false,viser:false}]\r\n  this.def = data.def;\r\n//  this.attacks = [new Attack(dmg, dmg_dice, dmg_bonus)];\r\n  this.rof = 1;\r\n  this.buffs = [];\r\n  this.capacité = data.capacité;\r\n  this.monstre = data.monstre;\r\n  this.strat = data.strat;\r\n  this.position = data.position;\r\n  this.reacted = false;\r\n  this.reactions = [];\r\n  this.stun = {etou: data.etou, etat: false, mod: null};\r\n  this.malus = {sang: false, poison: false, feu: false};\r\n/*  this.addAttack = function(attack){\r\n    this.attacks.push(attack);\r\n  };*/\r\n  this.addBuff = function(buff){\r\n    this.buffs.push(buff);\r\n  };\r\n  this.addReaction = function(reaction){\r\n    this.reactions.push(reaction);\r\n  };\r\n  this.checkBuffs = function(){\r\n    this.buffs = this.buffs.filter(function(buff){\r\n      return !!buff.time;\r\n    });\r\n  };\r\n  this.tickBuffs = function(){\r\n    this.buffs.forEach(function(buff){\r\n      if (buff.time > 0){\r\n         buff.time -= 1;\r\n       }\r\n    });\r\n  };\r\n  this.stats = {\r\n    hp: function(){return this.parent.hp;},\r\n    ac: function(){return sumBuffs(this.parent, 'ac');},\r\n    initiative: function(){return sumBuffs(this.parent, 'initiative');},\r\n    atk: function(){return SumAtk(this.parent);},\r\n    def: function(){return sumBuffs(this.parent, 'def');}\r\n  };\r\n  this.rollInitiative = function(){\r\n    return dice(\"1d10+\"+this.stats.initiative()).expl();\r\n  };\r\n  this.attackChoice = function(){\r\n    let posibilité = this.atk.length;\r\n    let roll = Math.floor(Math.random() * posibilité);\r\n    let sortie = this.atk[roll];\r\n    sortie.id = roll;\r\n    return sortie;\r\n  };\r\n  this.attackRoll = function(e){\r\n    let mod = Number(e.atk);\r\n    if(e.viser === \"Tête\"){mod-=6;}\r\n\t\tif(e.viser === \"Torse\"){mod-=1;}\r\n\t\tif(e.viser === \"Membre\"){mod-=3;}\r\n    if(e.FP){mod-=3;}\r\n    e.effet.pré ? mod+= Number(e.effet.préID) : mod+=0;\r\n    isNaN(this.stats.atk()) ?  mod += 0 : mod += Number(this.stats.atk());\r\n    let dé = \"1d10\";\r\n    if(mod!==0){\r\n      if(mod>0){dé=\"1d10+\"+mod}else{dé=\"1d10\"+mod};\r\n    }\r\n    return dice(dé).expl();\r\n  };\r\n  this.defRoll = function(){\r\n    let mod = Number(this.stats.def());\r\n    let dé = \"1d10\";\r\n    if(mod!==0){\r\n      if(mod>0){dé=\"1d10+\"+mod}else{dé=\"1d10\"+mod};\r\n    }\r\n    return dice(dé).expl();\r\n  };\r\n  this.isHit = function(attackRoll,defRoll){\r\n    let nextReaction = this.reactions.length - 1;\r\n    while(!this.reacted && nextReaction >= 0 && nextReaction < this.reactions.length){\r\n      this.reacted = this.reactions[nextReaction].trigger(this, attackRoll);\r\n      nextReaction++;\r\n    }\r\n    if(attackRoll > defRoll){\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n  this.takeDamage = function(damageRoll){\r\n    this.hp -= damageRoll;\r\n    if (this.hp < 0){\r\n      this.hp = 0;\r\n    }\r\n  };\r\n  this.isDead = function(){\r\n    if (this.hp <= 0) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n  this.isStun = function(mod){\r\n    let roll = dice('1d10');\r\n    let ETOU = Number(this.stun.etou)+Number(mod);\r\n    if(roll.total < ETOU){\r\n      this.stun.etat = false;this.stun.mod = null;\r\n    }else{\r\n      this.stun.etat = true; this.stun.mod = mod;\r\n    }\r\n  }\r\n  this.resetMalus = function(){\r\n    this.malus = {sang: false, poison: false, feu: false};\r\n  }\r\n  this.reset = function(){\r\n    this.hp = this.max_hp;\r\n    this.ac = this.max_ac;\r\n    this.reacted = false;\r\n    this.malus = {sang: false, poison: false, feu: false}\r\n  };\r\n  this.init = function(){\r\n    this.stats.parent = this;\r\n    delete this.init;\r\n  };\r\n  this.init();\r\n};\r\n\r\nfunction SumAtk(self, index){\r\n  let sum = [];\r\n  self.atk.forEach(function(e){\r\n    let total = e.atk;\r\n    self.buffs.forEach(function(buff){\r\n      if (buff.bonus.atk){\r\n        total += buff.bonus.atk;\r\n      }\r\n    });\r\n    sum.push(total);\r\n  });\r\n  return sum;\r\n}\r\n\r\nfunction sumBuffs(self, stat){\r\n  let total = self[stat];\r\n  self.buffs.forEach(function(buff){\r\n    if (buff.bonus[stat]){\r\n      total += buff.bonus[stat];\r\n    }\r\n  });\r\n  return total;\r\n}","module.exports = function(){\r\n    this.members = [];\r\n    this.combatStrategies = {\r\n      lowest_hp: function(combatantA, combatantB){\r\n        return combatantA.hp - combatantB.hp;\r\n      },\r\n      highest_hp: function(combatantA, combatantB){\r\n        return combatantB.hp - combatantA.hp;\r\n      },\r\n      lowest_pa: function(combatantA, combatantB){\r\n        return combatantA.ac - combatantB.ac;\r\n      },\r\n      lowest_position: function(combatantA, combatantB){\r\n        return combatantA.position - combatantB.position;\r\n      },\r\n      highest_position: function(combatantA, combatantB){\r\n        return combatantB.position - combatantA.position;\r\n      },\r\n      highest_dmg: function(combatantA, combatantB){\r\n        let dmgA = 0;\r\n        combatantA.attacks.forEach(function(element) {\r\n          let dmg = element.dice_type * element.dice_number + element.dmg_bonus;\r\n          dmgA += dmg;\r\n        });\r\n  \r\n        let dmgB = 0;\r\n        combatantB.attacks.forEach(function(element) {\r\n          let dmg = element.dice_type * element.dice_number + element.dmg_bonus;\r\n          dmgB += dmg;\r\n        });\r\n  \r\n        return dmgB - dmgA;\r\n      }\r\n    };\r\n//    this.combatStrategy = this.combatStrategies.lowest_hp;\r\n    this.addMember = function(combatant){\r\n      this.members.push(combatant);\r\n    };\r\n    this.selectTarget = function(opponents,strat){\r\n      opponents.sort(this.combatStrategies[strat]);\r\n      let target = opponents[0];\r\n      return target;\r\n    };\r\n  };","const Attack = require('./attack');\r\nconst Capacité = require('./capacité');\r\nconst Malus = require('./malus');\r\n\r\nmodule.exports = function(){\r\n\r\n    this.parties = {};\r\n    this.addParty = function(party, id){\r\n      this.parties[id] = party;\r\n    };\r\n    this.turnList = [];\r\n    this.initiateCombat = function(logger){\r\n      if (typeof logger == 'undefined'){\r\n        logger = function(string){};\r\n      }\r\n      let self = this;\r\n      for(let party in self.parties){\r\n        self.parties[party].members.forEach(function(combatant){\r\n          self.turnList.push({\r\n            party_id: party,\r\n            combatant: combatant,\r\n            roll: combatant.rollInitiative()\r\n          });\r\n        });\r\n      }\r\n      self.turnList.sort(function(a, b) {\r\n        return (a.roll.total < b.roll.total) ?  1 : ((b.roll.total < a.roll.total) ? -1 : 0);\r\n      });\r\n      logger('Ordre des tours:');\r\n      let n = 1;\r\n      self.turnList.forEach(function(member){\r\n        logger(n + '. ' + member.combatant.id);\r\n        n += 1;\r\n      });\r\n    };\r\n    this.runRound = function(logger){\r\n      if (typeof logger == 'undefined'){\r\n        logger = function(string){};\r\n      }\r\n      logger('Prochain tour:');\r\n      let self = this;\r\n      self.turnList.forEach(function(current_combatant){\r\n        let combatant = current_combatant.combatant;\r\n        let party_id = current_combatant.party_id;\r\n        Capacité(combatant,logger);\r\n        combatant.tickBuffs();\r\n        combatant.reacted = false;\r\n        Malus(combatant,logger);\r\n        if (!combatant.isDead()){\r\n          let opponentParties = [];\r\n          for (let p_id in self.parties){\r\n            if (party_id !== p_id){\r\n              opponentParties.push(self.parties[p_id]);\r\n            }\r\n          }\r\n          let opponents = [];\r\n          opponentParties.forEach(function(party){\r\n            party.members.forEach(function(member){\r\n              if (!member.isDead()){\r\n                opponents.push(member);\r\n              }\r\n            });\r\n          });\r\n          if(combatant.stun.etat){\r\n            logger(combatant.id+'est Étourdi.');\r\n            combatant.isStun(combatant.stun.mod);\r\n          }else{\r\n            let atkch = combatant.attackChoice();\r\n            for(let i=0;i<atkch.rof;i++){\r\n              let target = self.parties[party_id].selectTarget(opponents,combatant.strat);\r\n              if (typeof target == 'undefined'){\r\n                return;\r\n              }\r\n              let atk = combatant.attackRoll(atkch);\r\n              let atkRoll = atk.total;\r\n              let def = target.defRoll();\r\n              let defRoll = def.total;\r\n              if (target.isHit(atkRoll,defRoll)){\r\n                let damage = new Attack(atkch,atkRoll,defRoll,target);\r\n                target.ac--;\r\n                if(target.ac<0){target.ac=0;}\r\n                target.takeDamage(damage.total);\r\n                if(damage.loc !== \"|Armure > DMG|\"){\r\n                  logger('- '+combatant.id + ' touche ' + target.id + ' et inflige ' + damage.total + ' points de dégâts à '+ damage.loc + '.');\r\n                  logger('Jet '+atkch.nom+': '+JSON.stringify(atk.valeur)+'+'+atk.brut +' vs Jet défense: '+JSON.stringify(def.valeur)+\"+\"+def.brut);\r\n                  damage.desc.monstre ? logger('Dégats: '+JSON.stringify(damage.desc.dmg)+'-'+damage.desc.armor+' '+damage.desc.loc+' /2 [Résistance] +'+damage.desc.crit) : logger('Dégats: '+JSON.stringify(damage.desc.dmg)+'-'+damage.desc.armor+' '+damage.desc.loc+' +'+damage.desc.crit);\r\n                }else{\r\n                  logger('- '+combatant.id + ' touche ' + target.id + ' mais ne passe pas son armure. ('+damage.total+' VS '+target.ac+')');\r\n                }\r\n                              } else {\r\n                logger('- '+combatant.id + ' rate ' + target.id + '.');\r\n                logger('Jet d\\'attaque: '+JSON.stringify(atk.valeur)+'+'+atk.brut +' vs Jet défense: '+JSON.stringify(def.valeur)+\"+\"+def.brut);\r\n              }\r\n            };\r\n          }\r\n        }\r\n        combatant.resetMalus();\r\n        combatant.checkBuffs();\r\n      });\r\n    };\r\n    this.runFight = function(logger){\r\n      if (typeof logger == 'undefined'){\r\n        logger = function(string){};\r\n      }\r\n      this.initiateCombat(logger);\r\n      let anticrash = 0;\r\n      while(this.isFightOnGoing()){\r\n        this.runRound(logger);\r\n        anticrash++;\r\n        if(anticrash===10){\r\n          break;\r\n        }\r\n      }\r\n      this.survivorsStats(logger);\r\n      return this.survivors();\r\n  \r\n    };\r\n    this.isFightOnGoing = function(){\r\n      let alive = {};\r\n      for ( let c in this.turnList ) {\r\n        if (!this.turnList[c].combatant.isDead()){\r\n          alive[this.turnList[c].party_id] = 1;\r\n          if (Object.keys(alive).length > 1){\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n      return false;\r\n    };\r\n    this.survivorsStats = function(logger){\r\n      logger('Liste des Survivants:');\r\n      let dead = [];\r\n      for ( let c in this.turnList ) {\r\n        if (!this.turnList[c].combatant.isDead()){\r\n          let e = this.turnList[c].combatant;\r\n          logger(e.id+\" - PS: \"+e.stats.hp()+\"/\"+e.max_hp+\" ; PA: \"+e.stats.ac()+\"/\"+e.max_ac);\r\n        }else{\r\n          dead.push(this.turnList[c].combatant);\r\n        }\r\n      }\r\n      logger('Morts:');\r\n      dead.forEach(function(e){\r\n        logger(e.id+\" - PS: \"+e.stats.hp()+\"/\"+e.max_hp+\" ; PA: \"+e.stats.ac()+\"/\"+e.max_ac);\r\n      });\r\n    }\r\n    this.survivors = function(){\r\n      let alive = [];\r\n      for ( let c in this.turnList ) {\r\n        if (!this.turnList[c].combatant.isDead()){\r\n          alive.push(this.turnList[c]);\r\n        }\r\n      }\r\n      return alive;\r\n    };\r\n    this.reset = function(){\r\n      this.turnList = [];\r\n      let self = this;\r\n      for (let party in self.parties){\r\n        self.parties[party].members.forEach(function(combatant){\r\n          combatant.reset();\r\n        });\r\n      }\r\n    };\r\n};","const dice = require('./dice_roller');\r\n// Calcul des dégâts!\r\nmodule.exports = function(atk,attackRoll,defRoll,cible){\r\n  let jet = dice(atk.dice);\r\n  let roll = Number(jet.total);\r\n  let desc = {dmg:jet.valeur};\r\n  if(jet.brut){\r\n\tdesc.dmg.push(Number(jet.brut));\r\n  }\r\n  \tif(cible.monstre){\r\n\t\ttry{\r\n\t\t\tif(atk.effet.argent){\r\n\t\t\t\tlet jet2 = dice(atk.effet.argentID);\r\n\t\t\t\troll += Number(jet2.total);\r\n\t\t\t\tdesc.dmg.push(jet2.valeur);\r\n\t\t\t\tif(jet2.brut){\r\n\t\t\t\t\tdesc.dmg.push(Number(jet2.brut));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}catch(err){\r\n\t\t\tconsole.log('Erreur:',err);\r\n\t\t}\r\n\t}\r\n  var loca = \"Aléatoire\";\r\n  \tif(this.FP){roll *= 2;desc.dmg.push('x2');}\r\n\troll -= Number(cible.ac);\r\n\tdesc.armor=(-cible.ac);\r\n\tif(roll<=0){\r\n\t\troll=0;\r\n\t\tloca=\"|Armure > DMG|\";\r\n\t}else{\r\n\t\tlet loc;\r\n\t\tif(atk.viser === \"Aléatoire\"){\r\n\t\t\tloc = dice('1d10').total;\r\n\t\t\tif(loc===1){loc=3;}else if(loc<=4){loc=1;}else{loc=0.5;}\r\n\t\t}else{\r\n\t\t\tif(atk.viser === \"Tête\"){loc=3}\r\n\t\t\tif(atk.viser === \"Torse\"){loc=1}\r\n\t\t\tif(atk.viser === \"Membre\"){loc=0.5}\r\n\t\t}\r\n\t\troll *= loc;desc.loc=('x'+loc);\r\n\t\tif(loc===3){loca=\"Tête\";}else if(loc===1){loca=\"Torse\";}else{loca=\"Membre\";}\r\n\t}\r\n\tif(cible.monstre){\r\n\t\ttry{\r\n\t\t\tif(!atk.effet.argent){\r\n\t\t\t\troll *= 0.5;\r\n\t\t\t\tdesc.monstre = '/2';\r\n\t\t\t}\r\n\t\t}catch(err){\r\n\t\t\tconsole.log('Erreur:',err);\r\n\t\t\troll *= 0.5;\r\n\t\t\tdesc.monstre = '/2';\r\n\t\t}\r\n\t}\r\n\tlet cc = 0;\r\n\tlet diff = Number(attackRoll)-Number(defRoll);\r\n\tif(diff < 7){}else if(diff<10){cc=3;}else if(diff<13){cc=5;}else if(diff<15){cc=8;}else{cc=10;}\r\n\tdesc.crit=cc;\r\n\r\n\tlet effets = ['feu','sang','poison'];\r\n\teffets.forEach(function(el){\r\n\t\tif(atk.effet[el]){\r\n\t\t\tlet r = dice('1d100');\r\n\t\t\tif(r <= atk.effet[el+'ID']){\r\n\t\t\t\tcible.malus[el] = true;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n  return {total:Number(Number(roll)+Number(cc)),loc:loca,desc:desc};\r\n};","const Buff = require('./buff');\r\n\r\nmodule.exports = function(combatant,logger){\r\n\r\n    function Regen(e){\r\n        combatant.hp += Number(e);\r\n        if(combatant.hp > combatant.max_hp){combatant.hp = combatant.max_hp;}            \r\n        logger('Régénération enclenché pour '+combatant.id+' ! ('+combatant.hp+'/'+combatant.max_hp+' PS)');\r\n    }\r\n    //  Format: name    effet\r\n\r\n    if(combatant.capacité.regen){\r\n        Regen(combatant.capacité.regenID);\r\n    }\r\n    if(combatant.capacité.fureur){\r\n        if(combatant.hp<10){\r\n            logger('Fureur enclenché pour '+combatant.id+'!');\r\n            Regen(3);\r\n        }\r\n    }\r\n    if(combatant.capacité.embush){\r\n        combatant.addBuff(new Buff('Embuscade',1,{initiative:2}));\r\n    }\r\n};","module.exports = function(name, time, bonus){\r\n    this.name = name;\r\n    this.time = time;\r\n    this.bonus = bonus;\r\n};","module.exports = function(combatant,logger){\r\n    if(combatant.malus.feu){\r\n        // -5 DMG\r\n        combatant.takeDamage(5);\r\n        logger('Incinération: -5 PS');\r\n    }\r\n    if(combatant.malus.sang){\r\n        // -2 DMG\r\n        combatant.takeDamage(2);\r\n        logger('Saignement: -2 PS');\r\n    }\r\n    if(combatant.malus.poison){\r\n        // -3 DMG\r\n        combatant.takeDamage(3);\r\n        logger('Empoisonné: -3 PS');\r\n    }\r\n};","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n}));\r\n\r\nexport function SimpleAlerts(props) {\r\n  const classes = useStyles();\r\n  let data = props.data;\r\n  if(data){\r\n    return (\r\n        <div className={classes.root}>\r\n          <Alert severity=\"error\"> {data} </Alert>\r\n        </div>\r\n    );\r\n  }else{\r\n    return(<span></span>);\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nimport {CheckMb} from './form/formcheck.js';\r\nimport {SimpleAlerts} from './form/formalert.js';\r\n\r\nimport Bestiaire from './form/bestiaire.json';\r\nconst Prétired = require('./form/prétiré.js');\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      margin: theme.spacing(1),\r\n      width: '25ch',\r\n    },\r\n  },\r\n  mt:{\r\n    marginTop: '15px',\r\n  },\r\n  fr:{\r\n    textAlign: 'right',\r\n  },\r\n  grid:{\r\n    flexGrow: 1,\r\n  },\r\n  center:{\r\n    textAlign: 'center',\r\n  },\r\n  centerBlock:{\r\n    display: 'block',\r\n    margin: '0 auto',\r\n  },\r\n});\r\n\r\nfunction TryCheck(props){\r\n  let {addMember, state, err, base} = props;\r\n\r\n  let tryTrycheck = function(){\r\n    let a = CheckMb(state,base);\r\n    if(a.sortie){\r\n      // ajout du PJ\r\n      err(null);\r\n      delete state.prétiré;\r\n      delete state.anchorEl;\r\n      delete state.anchorEl2;\r\n      delete state.anchorEl3;\r\n      delete state.err;\r\n      addMember(state)\r\n    }else{\r\n      err(a.error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Fab \r\n      color=\"primary\"\r\n      aria-label=\"add\"\r\n      title=\"Ajouter le participant\"\r\n      onClick={tryTrycheck}\r\n      style={{display: 'block',margin: '0 auto',}}\r\n    >\r\n      <AddIcon />\r\n    </Fab>\r\n  )\r\n}\r\n\r\nclass Example extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      groupe: '',\r\n      id: '',\r\n      ps: '',\r\n      pa: '',\r\n      initiative: '',\r\n      def: '',\r\n      etou: '',\r\n      atk: [{nom: '',atk:'',dice:'',rof:'',FR:false,FP:false,viser:'Aléatoire',effet:{poison: false,poisonID: '',feu: false,feuID: '',sang: false,sangID: '',pré: false,préID: 0,argent: false, argentID: ''}}],\r\n      monstre: false,    // true || false\r\n      capacité: {regen: false, fureur: false, embush: false, regenID: ''},    // list\r\n      strat: 'Aléatoire',\r\n      position: '',\r\n      child_atk: 1,       // nombre d'attaques !\r\n      prétiré: false,\r\n      anchorEl: null,\r\n      anchorEl2: null,\r\n      anchorEl3: null,\r\n      err: null,\r\n    };\r\n    this.handleErr = this.handleErr.bind(this);\r\n  }\r\n\r\n  handleClick = e => (event) => {\r\n    this.setState({[e]:event.currentTarget});\r\n  };\r\n\r\n  handleErr(e) {\r\n    this.setState({ err: e});\r\n  }\r\n\r\n  handleClose = e => () => {\r\n    this.setState({[e]:null});\r\n  };\r\n  \r\n  // handle input change\r\n  handleInputChange = (e, index) => {\r\n    let { name, value } = e.target;\r\n    const list = this.state.atk;\r\n\r\n    let tableEffet = ['poison', 'poisonID', 'feu', 'feuID', 'sang', 'sangID', \"pré\", \"préID\", \"argent\", \"argentID\"];\r\n    if(tableEffet.includes(name)){\r\n      if(!value){\r\n        // checked !\r\n        value = e.target.checked;\r\n      }\r\n      list[index]['effet'][name]=value;\r\n    }else{\r\n      if(!value){\r\n        // checked !\r\n        value = e.target.checked;\r\n      }      \r\n      list[index][name] = value;\r\n    }\r\n    this.setState({atk:list});\r\n  };\r\n  handleChange = (e) => {\r\n    let { name, value } = e.target;\r\n    if(!value){value = e.target.checked}\r\n    this.setState({[name]:value});\r\n  };\r\n\r\n  handleAsynChange = (event, values) => {\r\n    this.setState({groupe: values});\r\n  }\r\n  handleAsynChange2 = (event, values) => {\r\n    this.setState({prétiré: values});\r\n  }\r\n\r\n  // handle click event of the Remove button\r\n  handleRemoveClick = index => {\r\n    const list = this.state.atk;\r\n    list.splice(index, 1);\r\n    this.setState({atk:list});\r\n  };\r\n\r\n  // handle click event of the Add button\r\n  handleAddClick = () => {\r\n    const list = this.state.atk;\r\n    list.push({\r\n      nom:'',\r\n      atk:'',\r\n      dice:'',\r\n      rof:'',\r\n      FR:false,\r\n      FP:false,\r\n      viser:'Aléatoire',\r\n      effet:{poison: false,poisonID: '',feu: false,feuID: '',sang: false,sangID: '',pré: false,préID: '',argent: false, argentID:''},\r\n    });\r\n    this.setState({atk:list});\r\n  };\r\n\r\n  checkPrétiré = () => {\r\n    let prétiré = this.state.prétiré;\r\n    if(prétiré){\r\n      var found = Bestiaire.find(e => e.Nom === prétiré);\r\n      if(found){\r\n        let def = Prétired(found).def();\r\n        let atk = Prétired(found).atq();;\r\n        let child;  found.Arme ? child = found.Arme.length : child = 0;\r\n        let capacité =  {regen: false, fureur: false, embush: false, regenID: ''};\r\n        let monster; found.Monstre ? monster = true : monster = false;\r\n        this.setState({\r\n          'id': found.Nom,\r\n          'ps': found.Caract.PS,\r\n          'pa': found.Armure,\r\n          'initiative': found.Caract.RÉF,\r\n          'def': def,\r\n          'etou': found.Caract.ÉTOU,\r\n          'atk': atk,\r\n          'monstre': monster,\r\n          'capacité': capacité,\r\n          'strat': 'Aléatoire',\r\n          'position': child\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  // Checkbox à la main\r\n  checkCheck = input => e => {\r\n    let capacité = this.state.capacité;\r\n    capacité[input] ? capacité[input]=false : capacité[input]=true;\r\n    this.setState({'capacité': capacité});\r\n\r\n  }\r\n  checkChecked = (e) => {\r\n    let {value} = e.target;\r\n    let capacité = this.state.capacité;\r\n    capacité.regenID = value;\r\n    this.setState({'capacité': capacité});\r\n  };\r\n\r\n  render() {\r\n    const { values, addMember } = this.props;\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <form className={classes.root} noValidate autoComplete=\"off\">\r\n          <div className={classes.grid}>\r\n            <Grid container spacing={3}>\r\n              <Grid item xs={4}>\r\n                <Autocomplete\r\n                  options={values.group}\r\n                  freeSolo\r\n                  name=\"groupe\" onInputChange={this.handleAsynChange}\r\n                  style={{ width: 300 }}\r\n                  renderInput={(params) => <TextField {...params} name=\"groupe\" label=\"Nom du groupe\" variant=\"outlined\" />}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={4}>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  value={this.state.id} name=\"id\" type=\"text\"\r\n                  label=\"Nom du Combattant\"\r\n                  onChange={e => this.handleChange(e)}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={4} className={classes.mt}>\r\n                <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" variant=\"outlined\" onClick={this.handleClick('anchorEl')}>\r\n                    Pré-tiré\r\n                </Button>\r\n                <Menu\r\n                    id=\"simple-menu\"\r\n                    anchorEl={this.state.anchorEl}\r\n                    keepMounted\r\n                    open={Boolean(this.state.anchorEl)}\r\n                    onClose={this.handleClose('anchorEl')}\r\n                >\r\n                  <MenuItem>\r\n                    <Autocomplete\r\n                      name=\"prétiré\"\r\n                      options={Bestiaire}\r\n                      getOptionLabel={(option) => option.Nom}\r\n                      style={{ width: 300 }}\r\n                      onInputChange={this.handleAsynChange2}\r\n                      renderInput={(params) => <TextField {...params} label=\"Nom du pré-tiré\" variant=\"outlined\" />}\r\n                    />\r\n                  </MenuItem>\r\n                  <MenuItem>\r\n                      <Button variant=\"contained\" color=\"primary\" onClick={this.checkPrétiré}>\r\n                        Ajouter\r\n                      </Button>\r\n                  </MenuItem>\r\n                  </Menu>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container spacing={3} className={classes.center}>\r\n              <Grid item xs>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  value={this.state.ps} name=\"ps\" type=\"text\" label=\"Points de santé\" onChange={e => this.handleChange(e)}\r\n                />\r\n              </Grid>\r\n              <Grid item xs>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  value={this.state.pa} name=\"pa\" type=\"text\" label=\"Pouvoir d'arrêt\" onChange={e => this.handleChange(e)}\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container spacing={3}>\r\n              <Grid item xs={4}>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  value={this.state.initiative} name=\"initiative\" type=\"text\" label=\"Initiative\" onChange={e => this.handleChange(e)}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={4}>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  value={this.state.def} name=\"def\" type=\"text\" label=\"Base Défense\" onChange={e => this.handleChange(e)}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={4}>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  value={this.state.etou} name=\"etou\" type=\"text\" label=\"Étourdissement\" onChange={e => this.handleChange(e)}\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n            {this.state.atk.map((x, i) => {\r\n                // {atk:1,dice:1d6+2,rof:1,FR:false,FP:true,viser:false}\r\n                return (\r\n                  <div key={i} >\r\n                    <hr/>\r\n                  <Grid container spacing={3}>\r\n                    <Grid item xs={3}>\r\n                      <TextField\r\n                        variant=\"outlined\"\r\n                        value={this.state.atk[i].nom} type=\"text\"\r\n                        label=\"Nom de l'Attaque\" name=\"nom\"\r\n                        onChange={e => this.handleInputChange(e, i)}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item xs={3}>\r\n                      <TextField\r\n                        variant=\"outlined\"\r\n                        value={this.state.atk[i].atk} type=\"number\" label=\"Base Attaque\" name=\"atk\"\r\n                        onChange={e => this.handleInputChange(e, i)}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item xs={3}>\r\n                      <TextField\r\n                        variant=\"outlined\"\r\n                        value={this.state.atk[i].dice} type=\"text\" label=\"DÉG\" placeholder=\"1d6+2\" name=\"dice\"\r\n                        onChange={e => this.handleInputChange(e, i)}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item xs={3}>\r\n                      <TextField\r\n                        variant=\"outlined\"\r\n                        value={this.state.atk[i].rof} type=\"number\" label=\"Att/tour\" name=\"rof\"\r\n                        onChange={e => this.handleInputChange(e, i)}\r\n                      />\r\n                    </Grid>\r\n                  </Grid>\r\n                  <Grid container spacing={3}>\r\n                    <Grid item xs>       \r\n                      <FormControlLabel\r\n                        control={\r\n                          <Checkbox\r\n                            checked={this.state.atk[i].FR}\r\n                            type=\"checkbox\"\r\n                            name=\"FR\"\r\n                            onChange={e => this.handleInputChange(e, i)}\r\n                            color=\"primary\"\r\n                          />\r\n                        }\r\n                        label=\"Frappe Rapide\"\r\n                      />\r\n                    </Grid>\r\n                    <Grid item xs>\r\n                      <FormControlLabel\r\n                        control={\r\n                          <Checkbox\r\n                            checked={this.state.atk[i].FP}\r\n                            type=\"checkbox\"\r\n                            name=\"FP\"\r\n                            onChange={e => this.handleInputChange(e, i)}\r\n                            color=\"primary\"\r\n                          />\r\n                        }\r\n                        label=\"Frappe Puissante\"\r\n                      />\r\n                    </Grid>\r\n                    <Grid item xs>\r\n                      <FormControl variant=\"outlined\" className={classes.formControl}>\r\n                        <InputLabel id=\"select-Vise-label\">Viser:</InputLabel>\r\n                        <Select\r\n                          labelId=\"select-Vise-label\"\r\n                          value={this.state.atk[i].viser}\r\n                          onChange={e => this.handleInputChange(e, i)}\r\n                          label=\"Viser:\"\r\n                          name=\"viser\"\r\n                        >\r\n                          <MenuItem value={'Aléatoire'}>Aléatoire</MenuItem>\r\n                          <MenuItem value={'Tête'}>Tête</MenuItem>\r\n                          <MenuItem value={'Torse'}>Torse</MenuItem>\r\n                          <MenuItem value={'Membre'}>Membre</MenuItem>\r\n                        </Select>\r\n                      </FormControl>\r\n                    </Grid>\r\n                    <Grid item xs className={classes.mt}>\r\n                      <Button aria-controls=\"simple-menu-effets\" aria-haspopup=\"true\" variant=\"outlined\" onClick={this.handleClick('anchorEl2')}>\r\n                        Effets\r\n                      </Button>\r\n                      <Menu\r\n                          id=\"simple-menu-effets\"\r\n                          anchorEl={this.state.anchorEl2}\r\n                          keepMounted\r\n                          open={Boolean(this.state.anchorEl2)}\r\n                          onClose={this.handleClose('anchorEl2')}\r\n                      >\r\n                        <MenuItem>\r\n                          <FormControlLabel\r\n                          control={\r\n                            <Checkbox\r\n                            name=\"poison\" checked={this.state.atk[i].effet.poison} onClick={e => this.handleInputChange(e, i)}\r\n                            color=\"primary\"\r\n                            />\r\n                          }\r\n                          label=\"Empoisonné\"\r\n                          />\r\n                          <TextField\r\n                            variant=\"outlined\"\r\n                            type=\"number\" label=\"%\" name=\"poisonID\" value={this.state.atk[i].effet.poisonID} \r\n                            onChange={e => this.handleInputChange(e, i)}\r\n                          />\r\n                        </MenuItem>\r\n                        <MenuItem>\r\n                          <FormControlLabel\r\n                          control={\r\n                            <Checkbox\r\n                            name=\"feu\" checked={this.state.atk[i].effet.feu} onClick={e => this.handleInputChange(e, i)}\r\n                            color=\"primary\"\r\n                            />\r\n                          }\r\n                          label=\"Incinération\"\r\n                          />\r\n                          <TextField\r\n                            variant=\"outlined\"\r\n                            type=\"number\" label=\"%\" name=\"feuID\" value={this.state.atk[i].effet.feuID}\r\n                            onChange={e => this.handleInputChange(e, i)}\r\n                          />\r\n                        </MenuItem>\r\n                          <MenuItem>\r\n                            <FormControlLabel\r\n                            control={\r\n                              <Checkbox\r\n                              name=\"sang\" checked={this.state.atk[i].effet.sang} onClick={e => this.handleInputChange(e, i)}\r\n                              color=\"primary\"\r\n                              />\r\n                            }\r\n                            label=\"Saignement\"\r\n                            />\r\n                            <TextField\r\n                            variant=\"outlined\"\r\n                            type=\"number\" label=\"%\" name=\"sangID\" value={this.state.atk[i].effet.sangID}\r\n                            onChange={e => this.handleInputChange(e, i)}\r\n                            />\r\n                          </MenuItem>\r\n                          <MenuItem>\r\n                            <FormControlLabel\r\n                            control={\r\n                              <Checkbox\r\n                              name=\"pré\" checked={this.state.atk[i].effet.pré} onClick={e => this.handleInputChange(e, i)}\r\n                              color=\"primary\"\r\n                              />\r\n                            }\r\n                            label=\"Précision\"\r\n                            />\r\n                            <TextField\r\n                              variant=\"outlined\"\r\n                              value={this.state.atk[i].effet.préID}\r\n                              type=\"number\"\r\n                              label=\"Valeur Précision\"\r\n                              name=\"préID\"\r\n                              onChange={e => this.handleInputChange(e, i)}\r\n                            />\r\n                          </MenuItem>\r\n                          <MenuItem>\r\n                            <FormControlLabel\r\n                            control={\r\n                              <Checkbox\r\n                              name=\"argent\" checked={this.state.atk[i].effet.argent} onClick={e => this.handleInputChange(e, i)}\r\n                              color=\"primary\"\r\n                              />\r\n                            }\r\n                            label=\"Argent\"\r\n                            />\r\n                            <TextField\r\n                              variant=\"outlined\"\r\n                              value={this.state.atk[i].effet.argentID}\r\n                              type=\"text\"\r\n                              label=\"Bonus Argent\"\r\n                              name=\"argentID\"\r\n                              onChange={e => this.handleInputChange(e, i)}\r\n                            />\r\n                          </MenuItem>\r\n                        </Menu>\r\n                    </Grid>\r\n                  </Grid>\r\n                  <Grid className={classes.fr}>\r\n                    {this.state.child_atk.length !== 1 && <IconButton aria-label=\"delete\" className={classes.margin} onClick={() => this.handleRemoveClick(i)}>\r\n                     <DeleteIcon />\r\n                   </IconButton>}\r\n                  </Grid>\r\n                  </div>\r\n                )}\r\n            )}\r\n            <hr />\r\n            <Grid className={classes.fr}>\r\n                <Fab variant=\"extended\" color=\"primary\" aria-label=\"add\" onClick={this.handleAddClick}>\r\n                  Ajouter une attaque\r\n                </Fab>\r\n            </Grid>\r\n            <br />\r\n            <Grid container spacing={3}>\r\n              <Grid item xs>       \r\n                <FormControlLabel\r\n                    control={\r\n                      <Checkbox\r\n                        checked={this.state.monstre}\r\n                        name=\"monstre\"\r\n                        type=\"checkbox\"\r\n                        onChange={e => this.handleChange(e)}\r\n                        color=\"primary\"\r\n                      />\r\n                    }\r\n                    label=\"Monstre\"\r\n                />\r\n              </Grid>\r\n              <Grid item xs>\r\n                <TextField\r\n                    variant=\"outlined\"\r\n                    value={this.state.position}\r\n                    name=\"position\"\r\n                    type=\"number\"\r\n                    label=\"Positionnement\"\r\n                    min=\"1\"\r\n                    onChange={e => this.handleChange(e)}\r\n                />\r\n              </Grid>\r\n              <Grid item xs>\r\n                <FormControl variant=\"outlined\" className={classes.formControl}>\r\n                  <InputLabel id=\"select-strat-label\">Stratégie:</InputLabel>\r\n                  <Select\r\n                      labelId=\"select-strat-label\"\r\n                      value={this.state.strat}\r\n                      name=\"strat\"\r\n                      label=\"Stratégie:\"\r\n                      onChange={e => this.handleChange(e)}\r\n                  >\r\n                    <MenuItem value={'Aléatoire'}>Aléatoire</MenuItem>\r\n                    <MenuItem value={'Moins de PS'}>Moins de PS</MenuItem>\r\n                    <MenuItem value={'Moins de PA'}>Moins de PA</MenuItem>\r\n                    <MenuItem value={'Première ligne'}>Première ligne</MenuItem>\r\n                    <MenuItem value={'Dernière ligne'}>Dernière ligne</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid item xs className={classes.mt}>\r\n                <Button aria-controls=\"simple-menu-capa\" aria-haspopup=\"true\" variant=\"outlined\" onClick={this.handleClick('anchorEl3')}>\r\n                  Effets\r\n                </Button>\r\n                <Menu\r\n                      id=\"simple-menu-capa\"\r\n                      anchorEl={this.state.anchorEl3}\r\n                      keepMounted\r\n                      open={Boolean(this.state.anchorEl3)}\r\n                      onClose={this.handleClose('anchorEl3')}\r\n                    >\r\n                    <MenuItem>\r\n                      <FormControlLabel\r\n                        onClick={this.checkCheck('regen')}\r\n                        control={\r\n                          <Checkbox\r\n                            checked={this.state.capacité.regen}\r\n                            type=\"checkbox\"\r\n                            color=\"primary\"\r\n                          />\r\n                        }\r\n                        label=\"Régénération\"\r\n                      />\r\n                      <TextField\r\n                        variant=\"outlined\"\r\n                        onChange={e => this.checkChecked(e)}\r\n                        type=\"number\"\r\n                        placeholder=\"Valeur\"\r\n                      />\r\n                    </MenuItem>\r\n                    <MenuItem>\r\n                      <FormControlLabel\r\n                        onClick={this.checkCheck('fureur')}\r\n                        control={\r\n                          <Checkbox\r\n                            checked={this.state.capacité.fureur} \r\n                            type=\"checkbox\"\r\n                            color=\"primary\"\r\n                          />\r\n                        }\r\n                        label=\"Fureur\"\r\n                      />\r\n                    </MenuItem>\r\n                    <MenuItem>\r\n                      <FormControlLabel\r\n                        onClick={this.checkCheck('embush')}\r\n                        control={\r\n                          <Checkbox\r\n                            checked={this.state.capacité.embush}\r\n                            type=\"checkbox\"\r\n                            color=\"primary\"\r\n                          />\r\n                        }\r\n                        label=\"Embuscade\"\r\n                      />\r\n                    </MenuItem>\r\n                  </Menu>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid>\r\n              <TryCheck state={this.state} addMember={addMember()} err={this.handleErr} base={values} />\r\n            </Grid>\r\n          </div>\r\n        </form>\r\n        <SimpleAlerts data={this.state.err} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, {withTheme: true})(Example);","/*\r\n    groupe: '',\r\n    id: '',\r\n    ps: '',\r\n    pa: '',\r\n    initiative: '',\r\n    def: '',\r\n    etou: '',\r\n    atk: [{atk:'',dice:'',rof:'',FR:false,FP:false,viser:'Aléatoire',effet:{poison: false,poisonID: '',feu: false,feuID: '',sang: false,sangID: '',pré: false,préID: 0}}],\r\n    monstre: '',    // true || false\r\n    capacité: {regen: false, fureur: false, embush: false, regenID: ''},    // list\r\n    strat: 'Aléatoire',\r\n    position: '',\r\n*/      \r\nexport function CheckMb(e,base){\r\n    let sortie = true, err = \"\";\r\n    if(!e.groupe){sortie=false;err += \"Pas de groupe. \";}\r\n    if(!e.id){sortie=false;err += \"Pas de nom. \";}else{\r\n        let found = base.member.find(element => element.id === e.id);\r\n        if(found){sortie=false;err += \"Nom déjà utilisé. \";}\r\n    }\r\n    if(!e.ps){sortie=false;err += \"Pas de PS. \";}\r\n    if(!e.pa){sortie=false;err += \"Pas de PA. \";}\r\n    if(!e.initiative){sortie=false;err += \"Pas d'initiative. \";}\r\n    if(!e.def){sortie=false;err += \"Pas de Base DÉF. \";}\r\n    if(!e.etou){sortie=false;err += \"Pas de Base ÉTOU. \";}\r\n    if(!e.position){sortie=false;err += \"Pas d'ordre de positionnement. \";}\r\n\r\n    e.atk.forEach(i => {\r\n        if(!i.atk){sortie=false;err += \"Pas de Base ATQ. \";}        \r\n        if(!i.dice){sortie=false;err += \"Pas de DÉG. \";}\r\n        if(!i.rof){sortie=false;err += \"Pas d'Att/tour. \";}        \r\n    });\r\n    return {sortie: sortie, error: err}\r\n};","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TreeView from '@material-ui/lab/TreeView';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\n\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport TreeItem from '@material-ui/lab/TreeItem';\r\nimport SecurityIcon from '@material-ui/icons/Security';\r\n\r\nfunction Test(props){\r\n  let e = props.data;\r\n  let ee = props.dataSur;\r\n  let groupePJ = props.group[0];\r\n  let clé = Object.keys(e);\r\n\r\n  let ordre = {};\r\n  let detail = {};\r\n  let surv = {};\r\n  let dc = {};\r\n  clé.forEach(function(k){\r\n    let array1 = e[k];\r\n    let indexA = array1.findIndex((element) => element === \"Ordre des tours:\");\r\n    let indexB = array1.findIndex((element) => element === \"Prochain tour:\");\r\n    let indexC = array1.findIndex((element) => element === \"Liste des Survivants:\");\r\n    let indexD = array1.findIndex((element) => element === \"Morts:\");\r\n\r\n    ordre[k] = (array1.slice(indexA+1, indexB));\r\n    detail[k] = (array1.slice(indexB+1, indexC));\r\n    surv[k] = (array1.slice(indexC+1, indexD));\r\n    dc[k] = (array1.slice(indexD+1));\r\n  });\r\n  return clé.map((k,i) =>\r\n    <TreeItem key={'clé-'+i} nodeId={k} label={bouclier(k,ee[k],groupePJ)}>\r\n      <TreeItem nodeId={k+\"-1\"} label=\"Ordre des tours:\">\r\n        <TreeItem nodeId={k+\"-1-1\"} label={test2(ordre[k])} />\r\n      </TreeItem>\r\n      <TreeItem nodeId={k+\"-2\"} label=\"Détails des tours\">\r\n        <TreeItem nodeId={k+\"-2-1\"} label={test2(detail[k])}/>\r\n      </TreeItem>\r\n      <TreeItem nodeId={k+\"-3\"} label=\"Survivants\">\r\n        <TreeItem nodeId={k+\"-3-1\"} label={test2(surv[k])} />\r\n      </TreeItem>\r\n      <TreeItem nodeId={k+\"-4\"} label=\"Morts\">\r\n        <TreeItem nodeId={k+\"-4-1\"} label={test2(dc[k])}/>\r\n      </TreeItem>\r\n    </TreeItem>\r\n  );\r\n}\r\n\r\nfunction test2(e){\r\n  let sortie = [];\r\n    e.forEach(function(i){\r\n      if(i===\"Prochain tour:\"||i===\"Liste des Survivants:\"){\r\n        sortie.push(<div><hr /><b><u>{i}</u></b></div>);\r\n      }else if(i===\"Morts:\"){\r\n        sortie.push(<div><b><u>{i}</u></b></div>);\r\n      }else{\r\n        sortie.push(<div>{i}</div>);\r\n      }\r\n    });\r\n  return (\r\n    <div>\r\n      {sortie}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction bouclier(k,e,groupe){\r\n  if(e===groupe){\r\n    return (\r\n      <div>\r\n      Combat n°{k} ~ <SecurityIcon color=\"primary\" />\r\n      </div>\r\n    )\r\n  }else{\r\n    return (\r\n      <div>\r\n      Combat n°{k} ~ <SecurityIcon color=\"secondary\" />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    height: 240,\r\n    flexGrow: 1,\r\n  },\r\n  grid: {\r\n    display: 'grid',\r\n    gridTemplateColumns: '50% 50%',\r\n  },\r\n  block: {\r\n    display: 'block',\r\n  },\r\n});\r\n\r\nexport default function FileSystemNavigator(props) {\r\n  const classes = useStyles();\r\n  const { values } = props;\r\n  if(values.logs){\r\n    return (\r\n      <div className={classes.grid}>\r\n        <TreeView\r\n          className={classes.root}\r\n          defaultCollapseIcon={<ExpandMoreIcon />}\r\n          defaultExpandIcon={<ChevronRightIcon />}\r\n        >\r\n          <Test data={values.logs.log} dataSur={values.logs.survivor} group={values.group} />\r\n        </TreeView>\r\n        <div>\r\n          <h3>\r\n            % de victoire:\r\n          </h3>\r\n          <List component=\"nav\" aria-label=\"secondary mailbox folders\">\r\n            {values.logs.ratio.map((x, i) => {\r\n              return (             \r\n                  <ListItem key={i} button>\r\n                    <ListItemText primary={x} />\r\n                  </ListItem>\r\n              )}\r\n            )}\r\n          </List>\r\n        </div>\r\n      </div> \r\n    );\r\n  }else{\r\n    return (<span></span>);\r\n  }\r\n}\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  typography: {\r\n    margin: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport function FormDialog(props) {\r\n  const [open, setOpen] = React.useState(false);\r\n  const {data,edit,del,handleInputChange,handleInputChange2,handleInputChange3} = props;\r\n  const classes = useStyles();\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const item = [{\"n\":'PS',\"v\":\"ps\"},{'n':'PA','v':'pa'},{\"n\":\"Initiative\",\"v\":\"initiative\"},{\"n\":\"Défense\",\"v\":\"def\"},{\"n\":\"Étourdissement\",\"v\":\"etou\"}];\r\n  const listItems = item.map((e) => \r\n    <TextField className={classes.typography} margin=\"dense\" label={e.n} name={e.v} value={data[e.v]} onChange={handleInputChange} />\r\n  );\r\n\r\n  const listAtq = data.atk.map((e,i) => \r\n    <div>\r\n      <TextField className={classes.typography} margin=\"dense\" label=\"Nom\" value={e.nom} name=\"nom\" onChange={e => handleInputChange2(e, i)} />\r\n      <TextField className={classes.typography} margin=\"dense\" label=\"Attaque\" value={e.atk}/>\r\n      <TextField className={classes.typography} margin=\"dense\" label=\"DÉG\" value={e.dice} />\r\n      <TextField className={classes.typography} margin=\"dense\" type=\"number\" label=\"Att/tour\" value={e.rof} />\r\n      <FormControlLabel\r\n        className={classes.typography}\r\n        control={\r\n          <Checkbox\r\n            checked={e.FR}\r\n            type=\"checkbox\"\r\n            name=\"FR\"\r\n            onChange={e => handleInputChange2(e, i)}\r\n            color=\"primary\"\r\n          />\r\n        }\r\n        label=\"Frappe Rapide\"\r\n      />\r\n      <FormControlLabel\r\n        className={classes.typography}\r\n        control={\r\n          <Checkbox\r\n            checked={e.FP}\r\n            type=\"checkbox\"\r\n            name=\"FP\"\r\n            onChange={e => handleInputChange2(e, i)}\r\n            color=\"primary\"\r\n          />\r\n        }\r\n        label=\"Frappe Puissante\"\r\n      />\r\n       <FormControl\r\n        className={classes.typography}>\r\n        <InputLabel id=\"select-Vise-label\">Viser:</InputLabel>\r\n          <Select\r\n            labelId=\"select-Vise-label\"\r\n            value={e.viser}\r\n            onChange={e => handleInputChange2(e, i)}\r\n            label=\"Viser:\"\r\n            name=\"viser\"\r\n          >\r\n          <MenuItem value={'Aléatoire'}>Aléatoire</MenuItem>\r\n          <MenuItem value={'Tête'}>Tête</MenuItem>\r\n          <MenuItem value={'Torse'}>Torse</MenuItem>\r\n          <MenuItem value={'Membre'}>Membre</MenuItem>\r\n        </Select>\r\n      </FormControl>              \r\n      <div>\r\n        <div>\r\n          <FormControlLabel\r\n            className={classes.typography}\r\n            control={\r\n              <Checkbox\r\n                checked={e.effet.poison}\r\n                type=\"checkbox\"\r\n                name=\"poison\"\r\n                onChange={e => handleInputChange2(e, i)}\r\n                color=\"primary\"\r\n              />\r\n            }\r\n            label=\"Empoisonné\"\r\n          />\r\n          <TextField\r\n            type=\"number\" label=\"%\" name=\"poisonID\" value={e.effet.poisonID} \r\n            onChange={e => this.handleInputChange2(e, i)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <FormControlLabel\r\n            className={classes.typography}\r\n            control={\r\n              <Checkbox\r\n                checked={e.effet.feu}\r\n                type=\"checkbox\"\r\n                name=\"feu\"\r\n                onChange={e => handleInputChange2(e, i)}\r\n                color=\"primary\"\r\n              />\r\n            }\r\n            label=\"Incinération\"\r\n          />\r\n          <TextField\r\n            type=\"number\" label=\"%\" name=\"feuID\" value={e.effet.feuID} \r\n            onChange={e => this.handleInputChange2(e, i)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <FormControlLabel\r\n            className={classes.typography}\r\n            control={\r\n              <Checkbox\r\n                checked={e.effet.sang}\r\n                type=\"checkbox\"\r\n                name=\"sang\"\r\n                onChange={e => handleInputChange2(e, i)}\r\n                color=\"primary\"\r\n              />\r\n            }\r\n            label=\"Saignement\"\r\n          />\r\n          <TextField\r\n            type=\"number\" label=\"%\" name=\"sangID\" value={e.effet.sangID} \r\n            onChange={e => this.handleInputChange2(e, i)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <FormControlLabel\r\n            className={classes.typography}\r\n            control={\r\n              <Checkbox\r\n                checked={e.effet.pré}\r\n                type=\"checkbox\"\r\n                name=\"pré\"\r\n                onChange={e => handleInputChange2(e, i)}\r\n                color=\"primary\"\r\n              />\r\n            }\r\n            label=\"Précision\"\r\n          />\r\n          <TextField\r\n            type=\"text\" label=\"Valeur PRÉ\" name=\"préID\" value={e.effet.préID} \r\n            onChange={e => this.handleInputChange2(e, i)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <FormControlLabel\r\n            className={classes.typography}\r\n            control={\r\n              <Checkbox\r\n                checked={e.effet.argent}\r\n                type=\"checkbox\"\r\n                name=\"argent\"\r\n                onChange={e => handleInputChange2(e, i)}\r\n                color=\"primary\"\r\n              />\r\n            }\r\n            label=\"Argent\"\r\n          />\r\n          <TextField\r\n            type=\"number\" label=\"Bonus DÉG Argent\" name=\"argentID\" value={e.effet.argentID} \r\n            onChange={e => this.handleInputChange2(e, i)}\r\n          />\r\n        </div>       \r\n      </div>\r\n      <hr />\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n        <div style={{display: 'block', margin: '0 auto', textAlign: 'center'}}>\r\n            <IconButton aria-label=\"edit\" onClick={handleClickOpen} title=\"Éditer le combatant\">\r\n                <EditIcon />\r\n            </IconButton>\r\n            <IconButton aria-label=\"delete\" title=\"Supprimer le combatant\" >\r\n                <DeleteIcon onClick={e => del(data,e)}/>\r\n            </IconButton>\r\n        </div>\r\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">Edition du Combatant</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Vous pouvez modifier les statistiques de {data.id} [{data.groupe}]. \r\n          </DialogContentText>\r\n          {listItems}\r\n          <hr />\r\n          {listAtq}\r\n          <hr />\r\n          <FormControlLabel\r\n            className={classes.typography}\r\n            control={\r\n              <Checkbox\r\n                checked={data.monstre}\r\n                type=\"checkbox\"\r\n                name=\"monstre\"\r\n                onChange={handleInputChange}\r\n                color=\"primary\"\r\n              />\r\n            }\r\n            label=\"Monstre\"\r\n          />\r\n          <TextField className={classes.typography} margin=\"dense\" label=\"Position\" name=\"position\" value={data.position} onChange={handleInputChange} />\r\n          <FormControl className={classes.formControl}>\r\n            <InputLabel id=\"select-strat-label\">Stratégie:</InputLabel>\r\n            <Select\r\n              labelId=\"select-strat-label\"\r\n              value={data.strat}\r\n              name=\"strat\"\r\n              label=\"Stratégie:\"\r\n              onChange={handleInputChange}\r\n            >\r\n              <MenuItem value={'Aléatoire'}>Aléatoire</MenuItem>\r\n              <MenuItem value={'Moins de PS'}>Moins de PS</MenuItem>\r\n              <MenuItem value={'Moins de PA'}>Moins de PA</MenuItem>\r\n              <MenuItem value={'Première ligne'}>Première ligne</MenuItem>\r\n              <MenuItem value={'Dernière ligne'}>Dernière ligne</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n          <div>\r\n            <FormControlLabel\r\n              className={classes.typography}\r\n              control={\r\n                <Checkbox\r\n                  checked={data.capacité.regen}\r\n                  type=\"checkbox\"\r\n                  name=\"regen\"\r\n                  onChange={handleInputChange3}\r\n                  color=\"primary\"\r\n                />\r\n              }\r\n              label=\"Régénération\"\r\n            />\r\n            <TextField className={classes.typography} margin=\"dense\" label=\"Valeur (Régénération)\" name=\"regenID\" value={data.capacité.regenID} onChange={handleInputChange3} />\r\n            <FormControlLabel\r\n              className={classes.typography}\r\n              control={\r\n                <Checkbox\r\n                  checked={data.capacité.fureur}\r\n                  type=\"checkbox\"\r\n                  name=\"fureur\"\r\n                  onChange={handleInputChange3}\r\n                  color=\"primary\"\r\n                />\r\n              }\r\n              label=\"Fureur\"\r\n            />\r\n            <FormControlLabel\r\n              className={classes.typography}\r\n              control={\r\n                <Checkbox\r\n                  checked={data.capacité.embush}\r\n                  type=\"checkbox\"\r\n                  name=\"embush\"\r\n                  onChange={handleInputChange3}\r\n                  color=\"primary\"\r\n                />\r\n              }\r\n              label=\"Embuscade\"\r\n            />\r\n          </div>\r\n        </DialogContent>\r\n        <DialogActions onClick={handleClose}>\r\n          <Button color=\"primary\">\r\n            Fermer\r\n          </Button>\r\n          <Button color=\"primary\" onClick={function(){edit(data)}}>\r\n            Valider\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport {FormDialog} from './partipopedit.js';\r\n\r\nclass FormDialogModal extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = props.data;\r\n      this.handleInputChange = this.handleInputChange.bind(this);\r\n      this.handleInputChange2 = this.handleInputChange2.bind(this);\r\n      this.handleInputChange3 = this.handleInputChange3.bind(this);\r\n    }\r\n  \r\n    handleInputChange(event) {\r\n      const target = event.target;\r\n      const value = target.type === 'checkbox' ? target.checked : target.value;\r\n      const name = target.name;\r\n  \r\n      this.setState({\r\n        [name]: value\r\n      });\r\n    }\r\n\r\n    handleInputChange2 = (e, index) => {\r\n      let { name, value } = e.target;\r\n      const list = this.state.atk;\r\n    \r\n      let tableEffet = ['poison', 'poisonID', 'feu', 'feuID', 'sang', 'sangID', \"pré\", \"préID\", \"argent\", \"argentID\"];\r\n        if(tableEffet.includes(name)){\r\n          if(!value){\r\n            // checked !\r\n            value = e.target.checked;\r\n          }\r\n          list[index]['effet'][name]=value;\r\n        }else{\r\n          if(!value){\r\n            // checked !\r\n            value = e.target.checked;\r\n          }      \r\n          list[index][name] = value;\r\n        }\r\n      this.setState({atk:list});\r\n    };\r\n\r\n    handleInputChange3(event) {\r\n      const target = event.target;\r\n      const value = target.type === 'checkbox' ? target.checked : target.value;\r\n      const name = target.name;\r\n      const list = this.state.atk;\r\n      list[name] = value;\r\n      this.setState({capacité: list});\r\n    }\r\n  \r\n    render() {\r\n        // data={data} edit={edit} del={del}\r\n        const { edit, del } = this.props;\r\n      return (\r\n        <form>\r\n            <FormDialog data={this.state} edit={edit} del={del} handleInputChange={this.handleInputChange} handleInputChange2={this.handleInputChange2} handleInputChange3={this.handleInputChange3} />\r\n       </form>\r\n      );\r\n    }\r\n}\r\n\r\nexport default FormDialogModal;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormDialogModal from './edition/form.js';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    border: '1px solid',\r\n    padding: theme.spacing(1),\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  typography: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nfunction Atq(props){\r\n  let d = props.data;\r\n  if(d.length > 0){\r\n    // atk: [{atk:'',dice:'',rof:'',FR:false,FP:false,viser:'Aléatoire',\r\n    // effet:{poison: false,poisonID: '',feu: false,feuID: '',sang: false,sangID: '',pré: false,préID: 0}}],\r\n    let a = [<b>Attaque:</b>];\r\n    d.forEach(e => {\r\n      a.push(\"- Base ATQ: \"+e.atk);\r\n      a.push(\"- DÉG: \"+e.dice);\r\n      a.push(\"- Att/tour: \"+e.rof);\r\n      if(e.FR){a.push(\"- Frappe Rapide\");}\r\n      if(e.FP){a.push(\"- Frappe Puissance\");}\r\n      a.push(\"- Viser: \"+e.viser);\r\n      if(e.effet.poison || e.effet.feu ||e.effet.sang || e.effet.pré){\r\n        a.push(\"Effet:\");\r\n        if(e.effet.pré){a.push(\"- PRÉ: \"+e.effet.préID)}\r\n        if(e.effet.poison){a.push(\"- Poison: \"+e.effet.poisonID)}\r\n        if(e.effet.feu){a.push(\"- Enflammer: \"+e.effet.feuID)}\r\n        if(e.effet.sang){a.push(\"- Saignement: \"+e.effet.sangID)}\r\n      }\r\n      a.push(<hr />);\r\n    });\r\n    return a.map((x,i) => \r\n      <div key={i}>\r\n        {x}\r\n      </div>\r\n    )\r\n  }else{\r\n    return (<div>Pas d'Attaque...</div>)\r\n  }\r\n}\r\n\r\nfunction Capa(props){\r\n  let d = props.data;\r\n  //  capacité: {regen: false, fureur: false, embush: false, regenID: ''}\r\n  if(d.regen || d.fureur || d.embush){\r\n    let a = [<b>Capacité: </b>];\r\n    if(d.regen){\r\n      a.push('Regénération ('+d.regenID+')');\r\n    }\r\n    if(d.fureur){a.push(\"Fureur\");}\r\n    if(d.embush){a.push(\"Embuscade\");}\r\n    return a.map((x,i) => \r\n      <span key={i}>\r\n        {x}\r\n      </span>\r\n    )\r\n  }else{\r\n    return (<span></span>);\r\n  }\r\n}\r\n\r\nexport function SimplePopper(props) {\r\n  var {label,color,data, del,edit} = props;\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(anchorEl ? null : event.currentTarget);\r\n  };\r\n\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? 'simple-popper' : undefined;\r\n\r\n  return (\r\n    <div>\r\n      <Chip label={label} color={color} aria-describedby={id} onClick={handleClick} />\r\n      <Popper id={id} open={open} anchorEl={anchorEl}>\r\n        <Paper>\r\n            <Typography className={classes.typography} component=\"div\">\r\n                Groupe: {data.groupe}\r\n                <br/>\r\n                PS: {data.ps}\r\n                <br/>\r\n                PA: {data.pa}\r\n                <br/>\r\n                Initiative: {data.initiative}\r\n                <br/>\r\n                Base DÉF: {data.def}\r\n                <br/>\r\n                Étourdissement: {data.etou}\r\n                <br/>\r\n                <Atq data={data.atk} />\r\n                {data.monstre ? \"Monstre\" : \"\"}\r\n                <br/>\r\n                Positionnement: {data.position}\r\n                <br/>\r\n                <Capa data={data.capacité} />\r\n                <FormDialogModal data={data} edit={edit} del={del} />\r\n            </Typography>\r\n        </Paper>\r\n      </Popper>\r\n    </div>\r\n  );\r\n}","const Combatant = require('../../module/combatant');\r\nconst Party = require('../../module/party');\r\nconst Combat = require('../../module/combat');\r\n\r\nexport function Sim(group,members){\r\n  let c = new Combat();\r\n  group.forEach(function(e){\r\n    let p = new Party();\r\n    c.addParty(p, e);\r\n  });\r\n  members.forEach(function(e){\r\n\t\tlet new_combatant = new Combatant(e);\r\n    console.log(new_combatant);\r\n    c.parties[e.groupe].addMember(new_combatant);\r\n  });\r\n\r\n  let loggerdeloggi = {};\r\n  let loggeridex = 1;\r\n\r\n  let logginette = function(string){\r\n    loggerdeloggi[loggeridex].push(string)\r\n  };\r\n\r\n  let winners = [];\r\n  for(let index=0; index < 100; index++){\r\n    loggerdeloggi[loggeridex] = [];\r\n    winners.push(c.runFight(logginette));\r\n    c.reset();\r\n    loggeridex++;\r\n  }\r\n\r\n  let parties = {};\r\n  for (let party_id in c.parties){\r\n    parties[party_id] = 0;\r\n  }\r\n\r\n  let survivor = ['Survivants:'];\r\n\r\n  winners.forEach(function(winner_party){\r\n    survivor.push(winner_party[0].party_id);\r\n    parties[winner_party[0].party_id] += 1;\r\n  });\r\n\r\n  let winRatio = [];\r\n  for (let p in parties){\r\n    winRatio.push(p + ': ' + parties[p] + '%');\r\n  }\r\n  \r\n  return {\r\n    log:loggerdeloggi,\r\n    survivor: survivor,\r\n    ratio: winRatio\r\n  }\r\n}","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport {Publish} from '@material-ui/icons';\r\n\r\nexport function FormDialog(props) {\r\n  const [open, setOpen] = React.useState(false);\r\n  const [code, setCode] = React.useState(false);\r\n  const { change } = props;\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const importData = () => {\r\n    if(code){\r\n        let data = JSON.parse(code);\r\n        if(data.member && data.group){\r\n            change('member',data.member);\r\n            change('group',data.group);\r\n        }else{\r\n            console.log('Erreur:',data);\r\n        }\r\n    }else{\r\n        console.log('Erreur:',code);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <IconButton\r\n        aria-label=\"Importer\"\r\n        title=\"Importer\" \r\n        onClick={handleClickOpen}\r\n      >\r\n          <Publish />\r\n      </IconButton>\r\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">Importation</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Veillez importer le code ci-dessous.\r\n          </DialogContentText>\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            label=\"Code\"\r\n            type=\"textarea\"\r\n            fullWidth\r\n            onChange={e => setCode(e.target.value)}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions onClick={handleClose}>\r\n          <Button  color=\"primary\">\r\n            Annuler\r\n          </Button>\r\n          <Button color=\"primary\" onClick={importData}>\r\n            Importer\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport { GetApp, RotateLeft } from '@material-ui/icons';\r\n\r\nimport {URLexportation} from './participant/urlexpt.js';\r\nimport {SimplePopper} from './participant/partipop.js';\r\nimport {Sim} from './participant/sim.js';\r\nimport {FormDialog} from './participant/modal.js';\r\n\r\nfunction PartiList(props){\r\n  let {data, del, edit} = props;\r\n  let aff = [];\r\n  let iColor = 0;\r\n  data.group.forEach(e => {\r\n    let color;\r\n    iColor === 0 ? color = \"primary\" : color = \"secondary\";\r\n    data.member.forEach(f => {\r\n      if(f.groupe === e){\r\n        aff.push(\r\n          <SimplePopper label={f.id} color={color} data={f} edit={edit} del={del}/>\r\n        );\r\n      }\r\n    });\r\n\r\n    iColor === 0 ? iColor++ : iColor=0;\r\n  });\r\n  return aff.map((x,i) =>\r\n  <div key={i} style={{columnCount:2}}>\r\n    {x}\r\n  </div>);\r\n}\r\n\r\nexport default function RecipeReviewCard(props) {\r\n  const { values, log, edit, del, change } = props;\r\n\r\n  const simulation = function() {\r\n    let sim = Sim(values.group,values.member);\r\n    log(sim);\r\n  }\r\n\r\n  const reiniData = () => {\r\n    change('member',[]);\r\n    change('group',['Les PJ']);\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader\r\n        title=\"Liste des participants\"\r\n      />\r\n      <CardContent>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"span\">\r\n          <PartiList data={values} edit={edit} del={del} />\r\n        </Typography>\r\n      </CardContent>\r\n      <CardActions disableSpacing>\r\n        <IconButton aria-label=\"Télécharger\" title=\"Sauvegarder\" onClick={() => {URLexportation(values.group, values.member)}}>\r\n          <GetApp />\r\n        </IconButton>\r\n        <FormDialog change={change} />\r\n        <Button onClick={simulation}>Simuler</Button>\r\n        <IconButton aria-label=\"Réinitialiser\" title=\"Réinitialiser\">\r\n          <RotateLeft change={change} onClick={reiniData} />\r\n        </IconButton>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n}","export function URLexportation(group, member){\r\n    let expt = {};\r\n    expt.group = group;\r\n    expt.member = member;\r\n\r\n    navigator.clipboard.writeText(JSON.stringify(expt));\r\n    return (console.log('Groupe Copié!'));\r\n};","import React, { Component } from 'react';\r\nimport Formulaire from './form';\r\nimport Render from './log';\r\nimport Participant from './participant';\r\n\r\nexport class UserForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.addLog = this.addLog.bind(this);\r\n    this.editMb = this.editMb.bind(this);\r\n    this.delMb = this.delMb.bind(this);\r\n  }\r\n  state = {\r\n    member: [],\r\n    group: ['Les PJ','Les Monstres'],\r\n    logs: null,\r\n  };\r\n\r\n  // Handle fields change\r\n  handleChange = (input,val) => {\r\n    this.setState({ [input]: val });\r\n  };\r\n\r\n  addMember = input => e => {\r\n    let member = this.state.member;\r\n    member.push(e);\r\n    this.setState({member:member});\r\n\r\n    let GroupList = this.state.group;\r\n    if(!GroupList.includes(e.groupe)){\r\n      GroupList.push(e.groupe);\r\n      this.setState({group:GroupList});\r\n    }\r\n  }\r\n  \r\n  addLog(e) {\r\n    this.setState({logs:e});\r\n  }\r\n  editMb(e) {\r\n    let member = this.state.member;\r\n    let index = member.findIndex((element) => element.id === e.id);\r\n    if(index>=0){\r\n      member.splice(index, 1, e);\r\n      this.setState({member:member});\r\n    }\r\n  }\r\n  delMb(e) {\r\n    console.log(e);\r\n    let member = this.state.member;\r\n    let index = member.findIndex((element) => element.id === e.id);\r\n    member.splice(index, 1);\r\n    this.setState({member:member});\r\n  }\r\n\r\n\r\n  reinitialisation() {\r\n    this.setState({\r\n        member: [],\r\n        group: []\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { member, group, logs } = this.state;\r\n    const values = { member, group, logs };\r\n\r\n    return (\r\n        <div className=\"App\">\r\n          <div className=\"m-25\">\r\n            <Formulaire addMember={this.addMember} values={values} />\r\n          </div>\r\n          <div className=\"m-25\">\r\n            <hr />\r\n          </div>\r\n          <div className=\"m-25\">\r\n            <Participant values={values} log={this.addLog} edit={this.editMb} del={this.delMb} change={this.handleChange} />\r\n          </div>\r\n          <div className=\"m-25\">\r\n            <hr />\r\n          </div>\r\n          <div className=\"m-10\">\r\n            <Render values={values} />\r\n          </div>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserForm;","import './App.css';\nimport Render from './sim/render';\n\nfunction App() {\n  return (\n    <Render />\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","function Rand(max) {\r\n  return Math.floor(Math.random() * max)+1;\r\n}\r\nconst reducer = (accumulator, currentValue) => accumulator + currentValue;\r\n\r\nmodule.exports = function(e){\r\n  let dice = {};\r\n  dice.expression = e;\r\n  dice.valeur = [];\r\n  let formule = dice.expression.split('d');\r\n  let brut = formule[1].split('+');\r\n  if(!brut[1]){brut=formule[1].split('-');brut[1]= -brut[1];}\r\n  for(let i=0;i<formule[0];i++){\r\n      dice.valeur.push(Rand(brut[0]));\r\n  }\r\n  if(brut[1]){dice.brut=brut[1];}\r\n  dice.expl = function(){ // dé explosif sur 1 & max sur le 1er jet uniquement = format Witcher\r\n    if(dice.valeur[0]===1||dice.valeur[0]===brut[0]){\r\n      let roll = Rand(brut[0]);\r\n      dice.valeur.push(roll);\r\n      while(roll===1||roll===brut[0]){\r\n        roll=Rand(brut[0]);\r\n        dice.valeur.push(roll);\r\n      }\r\n    }\r\n    if(dice.valeur[0]===1){dice.Echec=true;}else if(dice.valeur[0]===brut[0]){dice.critique=true;}\r\n    dice.total = dice.valeur.reduce(reducer);\r\n    if(dice.Echec){dice.total = Number(-(dice.total));}\r\n    if(dice.brut){dice.total+=Number(dice.brut);}\r\n    return dice;\r\n  }\r\n  dice.total = dice.valeur.reduce(reducer);\r\n  if(dice.brut){dice.total+=Number(dice.brut);}\r\n  return dice;\r\n}"],"sourceRoot":""}